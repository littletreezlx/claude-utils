# Role: Senior Flutter Engineer (UI Focus)

## Context
Refactor the **Main Home Page** (Random Picker Screen) for the "Flametree Pick" app.
The goal is to implement the "Warm Bento Box" design concept, focusing on high-quality rendering, soft shadows, and proper layout constraints for both iOS and macOS.

## Tech Stack Constraints
1.  **Framework**: Flutter 3.35.0+
2.  **Responsiveness**: `flutter_screenutil` (Use `.w`, `.h`, `.sp`, `.r`).
3.  **State Management**: `flutter_riverpod` (Assume providers exist for `categoriesProvider` and `optionsProvider`).
4.  **Animation**: `flutter_animate` (Crucial for interaction feedback).
5.  **Icons**: `lucide_icons` or `cupertino_icons`.

## Visual Specifications (The "Design Spec")

### 1. Global Layout (Crucial for macOS)
- The main content MUST be wrapped in a `Center` > `ConstrainedBox` with `maxWidth: 600.w`.
- This prevents the "stretched iPad" look on macOS while maintaining mobile layout on iOS.

### 2. Category Selector (Horizontal List)
- **Active Pill**: Gradient `#FF8F42` to `#FF5500`. Shadow: `BoxShadow(color: Color(0x4DFF5500), blurRadius: 8.r, offset: Offset(0, 4.h))`.
- **Inactive Pill**: Transparent bg, Text color `#757575`.
- **Animation**: Use `AnimatedContainer` for smooth transition of background and width.

### 3. Option Grid (The Bento Box)
- Use `SliverGrid`.
- **Card Styling**:
  - Bg: `Colors.white`.
  - Radius: `20.r`.
  - Shadow (Warmth): `[BoxShadow(color: Color(0x0D000000), blurRadius: 10, offset: Offset(0, 4)), BoxShadow(color: Color(0x0AFF5500), blurRadius: 20, spreadRadius: -5)]`.
- **Add New Card (Placeholder)**:
  - Border: `DottedBorder` (or CustomPainter dashed), color `#FF5500` with 0.3 opacity.
  - StrokeWidth: `2.sp`.
  - Bg: `Color(0xFFFFFBF9)`.

### 4. Floating Bottom Bar
- Float it `32.h` from the bottom.
- Shape: `StadiumBorder` (Capsule).
- Material: White (0.9 opacity) + `BackdropFilter` (Blur 10).
- Shadow: Soft widespread shadow to lift it off the canvas.

## Implementation Tasks
Write the complete `HomePage` widget code.
- Use `CustomScrollView` + `SliverPadding` for the body.
- Mock data is fine, but structure it to be replaced by Riverpod.
- **Micro-interaction**: Add `Animate().scale()` effects when buttons/cards are pressed.

## Code Structure Hint
```dart
class HomePage extends ConsumerWidget {
  // ... build method ...
  return Scaffold(
    backgroundColor: Color(0xFFFFFBF9), // Creamy background
    body: Stack(
      children: [
        // Main Content
        Center(
          child: ConstrainedBox(
            constraints: BoxConstraints(maxWidth: 600), // Fix for macOS
            child: CustomScrollView(
               // Header, Categories, Grid...
            ),
          ),
        ),
        // Floating Nav
        Positioned(bottom: 30, left: 0, right: 0, child: _FloatingNavBar()),
      ],
    ),
  );
}