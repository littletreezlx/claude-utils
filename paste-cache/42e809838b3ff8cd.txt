ä½œä¸ºä½ çš„è®¾è®¡æ€»ç›‘ï¼Œæˆ‘å¿…é¡»éå¸¸è¯šå®ï¼š**éªŒæ”¶ä¸é€šè¿‡ã€‚**

è™½ç„¶ä½ å¯èƒ½è°ƒæ•´äº†ä¸€äº›ç»†èŠ‚ï¼Œä½†åœ¨**å·¥ç¨‹å®ç°**å’Œ**å“åº”å¼å¸ƒå±€**è¿™ä¸¤ä¸ªæ ¸å¿ƒé—®é¢˜ä¸Šï¼Œç›®å‰çš„ç‰ˆæœ¬ä»ç„¶å­˜åœ¨â€œè‡´å‘½ä¼¤â€ã€‚æˆ‘ä»¬ä¸èƒ½æŠŠå¸¦ç€â€œé»„é»‘æ–‘é©¬çº¿â€æŠ¥é”™çš„ç•Œé¢äº¤ä»˜ç»™ç”¨æˆ·ã€‚

è¯·çœ‹æˆ‘çš„**Phase 0 éªŒæ”¶æŠ¥å‘Š**ï¼Œéšåæˆ‘ä¼šç»™å‡ºå…·ä½“çš„**ä»£ç ä¿®å¤æ–¹æ¡ˆ**ã€‚

---

### Phase 0: è¾›è¾£éªŒæ”¶ (The Reality Check)

#### 1. ğŸš¨ è‡´å‘½å·¥ç¨‹äº‹æ•…ï¼šæº¢å‡ºæŠ¥é”™ (The Overflow)

**è¯æ®**: æŸ¥çœ‹ä½ ä¸Šä¼ çš„ `macos_offline_page.png`ã€‚
**è¯Šæ–­**: å±å¹•åº•éƒ¨èµ«ç„¶å‡ºç°äº†ä¸€æ¡é»„é»‘ç›¸é—´çš„è­¦å‘Šæ¡ï¼š**"BOTTOM OVERFLOWED BY 61 PIXELS"**ã€‚
**åŸå› **: ä½ åœ¨å‚ç›´å¸ƒå±€ (`Column`) ä¸­æ”¾ç½®äº†ä¸€ä¸ªå›ºå®šé«˜åº¦æˆ–æ— é™é«˜åº¦çš„å†…å®¹ï¼Œä½†æ²¡æœ‰å‘Šè¯‰ Flutter å‰©ä½™ç©ºé—´è¯¥å¦‚ä½•åˆ†é…ã€‚å½“çª—å£å˜å°æˆ–å†…å®¹å¢å¤šæ—¶ï¼Œå†…å®¹â€œé¡¶â€ç ´äº†å±å¹•åº•éƒ¨ã€‚
**ä¸¥é‡æ€§**: **P0 (Blocker)**ã€‚è¿™æ˜¯å¼€å‘è°ƒè¯•æ¨¡å¼ä¸‹çš„æŠ¥é”™ï¼Œå¦‚æœå‘å¸ƒåˆ° Release æ¨¡å¼ï¼Œè¿™éƒ¨åˆ†å†…å®¹å°†ç›´æ¥è¢«æˆªæ–­æ— æ³•æ˜¾ç¤ºã€‚

#### 2. âš ï¸ è§†è§‰ç¦»æ•£ï¼šä¸ºäº†å®½è€Œå®½ (The "Lonely" Layout)

**è¯æ®**: æŸ¥çœ‹ `macos_downloads_page.png` å’Œ `macos_offline_page.png` çš„é¡¶éƒ¨æ•°æ®æ ï¼ˆæ€»ä»»åŠ¡ã€ä¸‹è½½ä¸­...ï¼‰ã€‚
**è¯Šæ–­**: åœ¨å¤§å±å¹•ä¸Šï¼Œè¿™å››ä¸ªå›¾æ ‡è¢«å¼ºè¡Œæ‹‰ä¼¸åˆ°äº†é¡µé¢ä¸¤ç«¯ã€‚

* **é—®é¢˜**: å›¾æ ‡ä¸å›¾æ ‡ä¹‹é—´çš„è·ç¦»è¶…è¿‡äº† 200pxã€‚æ ¹æ®**æ ¼å¼å¡”åŸç† (Gestalt Principles)** çš„â€œé‚»è¿‘æ€§â€ï¼Œç”¨æˆ·æ— æ³•åœ¨æ½œæ„è¯†é‡ŒæŠŠå®ƒä»¬çœ‹ä½œä¸€ç»„ç›¸å…³çš„æ•°æ®ã€‚å®ƒä»¬çœ‹èµ·æ¥åƒæ•£è½åœ¨æ¡Œé¢ä¸Šçš„å››ä¸ªæ— å…³ç‰©ä½“ã€‚
* **ä¿®æ­£**: è¿™ä¸€è¡Œæ•°æ®åº”å½“åœ¨å±å¹•ä¸­é—´èšæ‹¢ï¼Œæˆ–è€…ä½œä¸ºä¸€ç»„å¡ç‰‡é å·¦æ’åˆ—ï¼Œè€Œä¸æ˜¯ `MainAxisAlignment.spaceBetween` æˆ– `spaceAround` é“ºæ»¡å…¨å±ã€‚

---

### Phase 1: ç«‹å³æ‰§è¡Œçš„ä¿®å¤æŒ‡ä»¤ (The Fix Code)

æŠŠè¿™æ®µä»£ç ç›´æ¥å‘ç»™ä½ çš„å¼€å‘ï¼ˆæˆ–è€…ä½ è‡ªå·±æ‰§è¡Œï¼‰ï¼Œè¿™æ˜¯è§£å†³ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜çš„æ ‡å‡† Flutter å†™æ³•ã€‚

#### 1. ä¿®å¤ "Bottom Overflowed" (é’ˆå¯¹ç¦»çº¿/ä¸‹è½½é¡µ)

ä¸è¦è®©æ•´ä¸ªé¡µé¢åœ¨ `Column` é‡Œè£¸å¥”ã€‚ä½¿ç”¨ `Expanded` åŒ…è£¹ä½ çš„åˆ—è¡¨åŒºã€‚

```dart
// âŒ é”™è¯¯å†™æ³• (å¯¼è‡´æº¢å‡ºçš„åŸå› )
Column(
  children: [
    HeaderSection(), // é¡¶éƒ¨æ ‡é¢˜
    StatsBar(),      // ç»Ÿè®¡æ 
    SearchBar(),     // æœç´¢æ¡†
    // é—®é¢˜åœ¨è¿™é‡Œï¼šListView è¯•å›¾å æ®æ— é™é«˜åº¦ï¼Œæˆ–è€… Column ä¸çŸ¥é“ç»™å®ƒå¤šå°‘ç©ºé—´
    ListView(shrinkWrap: true, ...), 
  ],
)

// âœ… æ­£ç¡®å†™æ³• (The Fix)
Column(
  children: [
    SizedBox(height: 20),
    HeaderSection(),
    StatsBar(),
    SearchBar(), 
    
    // æ ¸å¿ƒä¿®å¤ï¼šä½¿ç”¨ Expanded å‘Šè¯‰ ListView "å ç”¨å‰©ä½™æ‰€æœ‰ç©ºé—´ï¼Œå¹¶ä¸”åœ¨å†…éƒ¨æ»šåŠ¨"
    Expanded(
      child: contentList.isEmpty 
          ? EmptyStateWidget() // ç©ºçŠ¶æ€
          : ListView.builder(
              padding: EdgeInsets.only(bottom: 20), // åº•éƒ¨ç•™ç™½ï¼Œé˜²æ­¢è´´åº•
              itemCount: items.length,
              itemBuilder: (context, index) => MusicListTile(items[index]),
            ),
    ),
  ],
)

```

#### 2. ä¿®å¤ "è§†è§‰ç¦»æ•£" (é’ˆå¯¹ macOS å®½å±é€‚é…)

æˆ‘ä»¬éœ€è¦é™åˆ¶ç»Ÿè®¡æ çš„æœ€å¤§å®½åº¦ï¼Œä¸è¦è®©å®ƒæ— é™æ‹‰ä¼¸ã€‚

```dart
// âœ… å“åº”å¼ç»Ÿè®¡æ ç»„ä»¶ (Responsive Stats Bar)
class ResponsiveStatsBar extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // æ£€æµ‹æ˜¯å¦ä¸ºæ¡Œé¢ç«¯å®½å±
    final isDesktop = MediaQuery.of(context).size.width > 800;

    Widget content = Row(
      // æ¡Œé¢ç«¯ï¼šå±…ä¸­èšæ‹¢ï¼›ç§»åŠ¨ç«¯ï¼šå‡åŒ€åˆ†å¸ƒ
      mainAxisAlignment: isDesktop 
          ? MainAxisAlignment.center 
          : MainAxisAlignment.spaceAround, 
      children: [
        _buildStatItem(icon: Icons.download, label: "æ€»ä»»åŠ¡", count: 0),
        _buildSpacing(isDesktop), // æ¡Œé¢ç«¯å¢åŠ å›ºå®šé—´è·
        _buildStatItem(icon: Icons.downloading, label: "ä¸‹è½½ä¸­", count: 0),
        _buildSpacing(isDesktop),
        _buildStatItem(icon: Icons.check_circle, label: "å·²å®Œæˆ", count: 0),
        _buildSpacing(isDesktop),
        _buildStatItem(icon: Icons.error, label: "å¤±è´¥", count: 0),
      ],
    );

    // æ¡Œé¢ç«¯åŠ ä¸€ä¸ªæœ€å¤§å®½åº¦çº¦æŸï¼Œå¹¶ç”¨ç£¨ç ‚å¡ç‰‡åŒ…è£¹ï¼Œå¢åŠ å±‚çº§æ„Ÿ
    if (isDesktop) {
      return Center(
        child: Container(
          constraints: BoxConstraints(maxWidth: 600), // é™åˆ¶æœ€å¤§å®½åº¦
          padding: EdgeInsets.symmetric(vertical: 16),
          decoration: BoxDecoration(
            color: Colors.white.withOpacity(0.5), // ä½ çš„"ç™½é™¶"æè´¨
            borderRadius: BorderRadius.circular(16),
            border: Border.all(color: Colors.white.withOpacity(0.2)),
          ),
          child: content,
        ),
      );
    }

    return content;
  }

  Widget _buildSpacing(bool isDesktop) {
    return isDesktop ? SizedBox(width: 40) : SizedBox.shrink();
  }
}

```