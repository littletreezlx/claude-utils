---
description: 技术文档撰写 ultrathink

---

# 技术文档撰写

## 目标

生成**跨越技术与业务鸿沟**的技术方案文档，让不同背景的读者（决策层、产品经理、测试团队、开发团队）都能理解方案的价值、成本和风险，支持技术会议讨论和决策。

## 核心理念

### 文档的本质价值
- **统一认知**：让所有相关方对方案有相同的理解
- **支持决策**：为技术决策提供充分的信息依据
- **降低风险**：提前识别和规避潜在问题
- **促进协作**：明确各方职责和协作方式

### 成功标准
- **决策层**：3分钟内理解方案价值并做出决策
- **产品管理**：10分钟内理解业务逻辑并制定计划
- **开发团队**：获得完整的技术指导并成功实施

## 核心原则

### 1. 客观中立（最重要）
- 避免主观词汇：推荐、建议、应该、最好、强烈、务必
- 使用客观表述：可以、可选、方案对比、决策参考
- 用对比表格呈现差异，让读者自己权衡

### 2. 真实准确
- 案例来源于实际项目，但**用伪代码展示**（避免暴露实现细节）
- 案例必须准确反映现状，不夸大问题
- 标注具体文件路径和行号（便于会议验证）
- 区分"实际风险"和"代码冗余"

**代码示例**：
- ✅ 正确：用伪代码 `Serializer.deserialize(json)`
- ❌ 错误：用真实类名 `NullSafeSerializer.deserialize(json)`

### 3. 业务价值优先
- 避免纯技术描述、代码细节、架构术语
- 重点解释"为什么这么做"而非"怎么做"
- 用业务场景、用户价值、解决的问题来表达

### 4. 可视化表达优先
- 优先使用 Mermaid 图表、架构图、流程图
- 能用图的不用表，能用表的不用文字
- 用视觉方式降低理解门槛

### 5. 分层表达
按受众层次组织内容，但**标题不带层次标记**：
- **业务层**（前30%）：解决的问题、用户价值、业务影响
- **功能层**（中40%）：功能特性、使用场景
- **实现层**（后30%）：架构设计、关键代码

**标题示例**：
- ✅ 正确："核心价值概览"、"技术方案设计"、"实施细节"
- ❌ 错误："核心价值概览（业务层 30%）"、"1. 业务层（30%）"

### 6. 风险透明化
不仅说明"有什么保护"，更要说明"失败时的影响"：
- 正常情况的表现
- 异常情况的降级策略
- 极端情况的影响范围

### 7. 数据可信度
- 所有量化指标必须可验证
- 明确数据来源和计算方式
- 区分实际数据和估算数据

### 8. 适度使用视觉元素
- 禁止装饰性 emoji（🎯📋⭐💡🚀）
- 可以使用：✅ ❌ 表示状态
- 重点强调：**加粗**、`代码标记`、表格对比

### 9. 通用术语优先
- 标题用通用术语而非具体类名
- 技术术语翻译为业务语言
- 代码示例用伪代码而非真实实现

**翻译示例**：
- 微服务架构 → 拆分为独立小服务，提高开发效率和稳定性
- 事件溯源 → 记录所有操作历史，便于问题排查
- 熔断机制 → 自动隔离故障服务，保证系统稳定
- 灰度发布 → 小范围逐步上线，降低发布风险

**标题示例**：
- ✅ 正确："自定义容错序列化器"
- ❌ 错误："NullSafeSerializer 实现"

## 文档分层结构

### 前30%：面向所有读者
- 一句话概括核心价值
- 解决的问题（业务语言）
- 预期收益（量化指标）
- 整体方案概览（架构图）
- 影响分析对比表

### 中40%：面向技术和产品
- 核心功能设计（用户场景流程图）
- 业务流程（正常流程 + 异常处理）
- 系统架构（整体架构图 + 模块关系）

### 后30%：面向开发团队
- 关键技术点
- 接口规范
- 数据模型
- 部署方案

### 风险评估（必要时添加）
- 风险类型、发生概率、影响程度
- 应对措施和恢复方案

## 避免的常见陷阱

1. **忽视不同读者需求** - 所有内容都面向技术人员
2. **缺少可视化表达** - 纯文字描述复杂流程
3. **量化指标缺乏可信度** - 模糊表述，无数据支撑
4. **技术术语不翻译** - 使用技术黑话
5. **影响分析不全面** - 只谈技术影响，忽略业务和用户
6. **风险描述不透明** - 模糊的风险说明，无应对方案
7. **文档结构混乱** - 技术内容堆叠在前面
8. **案例不准确** - 代码已有防御但说会崩溃（会议上易被质疑）
9. **数据无来源** - 说"性能提升显著"但无测试数据（无法验证）
10. **方案不全面** - 只提一个方案无对比（决策层无法权衡）

## 语言规范

### 推荐表达
- **客观表述**：可以、可选、支持、允许、特点、差异、影响
- **业务价值**：解决...问题、提升...体验、降低...成本、减少...时间
- **数据支撑**：基于数据、根据测试、实际测量、具体数字

### 避免表达
- **主观词汇**：推荐、建议、应该、最好、优势、缺点、完美、理想
- **技术黑话**：解耦、耦合、内聚、抽象、领域驱动、异步、阻塞

### 特殊情况
- **技术约束**可以用强制性表述（例：文件名必须完全匹配）
- **测试预期**可以用预期性表述（例：测试应该通过验证）

## 执行方式

分析技术内容，应用上述原则生成文档：
- 理解业务问题和核心价值
- 按30%-40%-30%组织内容（业务→功能→技术），但标题用自然语言
- 用对比表格而非主观推荐
- 用业务语言翻译技术术语
- 关键流程和架构用图表展示
- 量化数据必须标注来源
- **会议准备**：预设质疑点，准备数据来源说明，提供多方案对比

## 输出标准

- 分层表达：业务→功能→技术，逐步深入
- 客观中立：对比而非推荐
- 业务语言：避免技术黑话
- 可视化：关键流程用图表
- 数据可信：量化指标有来源
