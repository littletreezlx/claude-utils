---
description: 技术文档撰写 ultrathink
---

# 技术文档撰写

## 核心目标

根据用户指定的主题，生成两份职责分离的技术文档：**设计综述**（面向产品/管理层）和**实施手册**（面向开发团队）。

## 输入方式

```bash
/techdoc "用户管理系统统一认证方案"
/techdoc $ARGUMENTS
```

## 文档 1: 设计综述 (Design Specification)

**受众**：产品经理、后端开发、管理层

**写作规则**：
- 禁止代码、类名、文件路径
- 图表使用 Mermaid 格式
- 聚焦"为什么"和"做什么"，不讨论"怎么做"

**内容结构**：
1. 核心价值与背景
2. 总体设计方案（含 Mermaid 流程图/时序图）
3. 关键决策对比（表格对比方案优劣）
4. 业务影响与风险

## 文档 2: 实施手册 (Implementation Guide)

**受众**：开发团队

**写作规则**：
- 代码优先，用代码解释逻辑
- 使用项目实际技术栈的规范写法
- 必须与设计综述在逻辑上关联

**内容结构**：
1. 模块与文件结构（树状图）
2. 核心接口定义（完整代码）
3. 关键功能实现（含注释）
4. 依赖注入/配置
5. 测试与验证

## 输出格式

- 两份文档之间用 `---` 分隔
- 直接输出，不加开场白或过渡语
- 第一份以 `# 设计综述：[主题]` 开始
- 第二份以 `# 实施手册：[主题]` 开始

## 约束

- 自动检测项目技术栈，实施手册使用对应语言和框架
- 不确定技术栈时询问用户
- 设计综述严禁出现代码

## 执行参数
`$ARGUMENTS` - 文档主题或需求描述
